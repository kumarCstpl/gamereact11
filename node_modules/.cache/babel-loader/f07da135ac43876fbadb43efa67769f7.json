{"ast":null,"code":"import { wrap } from 'comlink';\nimport { makeMove } from './gameSlice';\nimport { getWebWorker } from '../helpers/getWorker';\nconst worker = getWebWorker();\nconst {\n  maximizePlay\n} = wrap(worker);\nexport const aiMove = () => {\n  return async (dispatch, getState) => {\n    // getting current game settings\n    const {\n      game\n    } = getState();\n    // run simulation and getting the best possible move\n    let aiMove = await maximizePlay(game.gameBoard, game.CPULevel, Infinity);\n    if (typeof aiMove !== 'undefined' && aiMove[0] !== null) {\n      // call for making ai move\n      dispatch(makeMove(aiMove[0]));\n    }\n  };\n};","map":{"version":3,"names":["wrap","makeMove","getWebWorker","worker","maximizePlay","aiMove","dispatch","getState","game","gameBoard","CPULevel","Infinity"],"sources":["C:/wamp64/www/gamereact11/src/store/aiMove.ts"],"sourcesContent":["import { store } from './store';\nimport { wrap } from 'comlink';\nimport { makeMove } from './gameSlice';\n\nimport { getWebWorker } from '../helpers/getWorker';\n\nconst worker = getWebWorker();\n\nconst { maximizePlay } =\n  wrap<import('../helpers/worker.js').AiMoveWorker>(worker);\n\nexport const aiMove = () => {\n  return async (\n    dispatch: typeof store.dispatch,\n    getState: typeof store.getState\n  ) => {\n    // getting current game settings\n    const { game } = getState();\n    // run simulation and getting the best possible move\n    let aiMove = await maximizePlay(game.gameBoard, game.CPULevel, Infinity);\n\n    if (typeof aiMove !== 'undefined' && aiMove[0] !== null) {\n      // call for making ai move\n      dispatch(makeMove(aiMove[0]));\n    }\n  };\n};\n"],"mappings":"AACA,SAASA,IAAI,QAAQ,SAAS;AAC9B,SAASC,QAAQ,QAAQ,aAAa;AAEtC,SAASC,YAAY,QAAQ,sBAAsB;AAEnD,MAAMC,MAAM,GAAGD,YAAY,EAAE;AAE7B,MAAM;EAAEE;AAAa,CAAC,GACpBJ,IAAI,CAA8CG,MAAM,CAAC;AAE3D,OAAO,MAAME,MAAM,GAAG,MAAM;EAC1B,OAAO,OACLC,QAA+B,EAC/BC,QAA+B,KAC5B;IACH;IACA,MAAM;MAAEC;IAAK,CAAC,GAAGD,QAAQ,EAAE;IAC3B;IACA,IAAIF,MAAM,GAAG,MAAMD,YAAY,CAACI,IAAI,CAACC,SAAS,EAAED,IAAI,CAACE,QAAQ,EAAEC,QAAQ,CAAC;IAExE,IAAI,OAAON,MAAM,KAAK,WAAW,IAAIA,MAAM,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;MACvD;MACAC,QAAQ,CAACL,QAAQ,CAACI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/B;EACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module"}