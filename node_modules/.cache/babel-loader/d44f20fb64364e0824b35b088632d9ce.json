{"ast":null,"code":"import{combineReducers,configureStore}from'@reduxjs/toolkit';import{modalReducer}from'./modalSlice';import{gameReducer}from'./gameSlice';var rootReducer=combineReducers({modal:modalReducer,game:gameReducer});export function setupStore(preloadedState){return configureStore({reducer:rootReducer,preloadedState:preloadedState});}//MIDDLEWARE\nvar localStorageMiddleware=function localStorageMiddleware(_ref){var getState=_ref.getState;return function(next){return function(action){var result=next(action);localStorage.setItem('connectFourGameSettigns',JSON.stringify(getState()));return result;};};};// Rehydration function\nvar reHydrateStore=function reHydrateStore(){if(localStorage.getItem('connectFourGameSettigns')!==null){return JSON.parse(localStorage.getItem('connectFourGameSettigns'));// re-hydrate the store\n}};export var store=configureStore({reducer:rootReducer,preloadedState:reHydrateStore(),middleware:function middleware(getDefaultMiddleware){return getDefaultMiddleware().concat(localStorageMiddleware);}});","map":{"version":3,"names":["combineReducers","configureStore","modalReducer","gameReducer","rootReducer","modal","game","setupStore","preloadedState","reducer","localStorageMiddleware","getState","next","action","result","localStorage","setItem","JSON","stringify","reHydrateStore","getItem","parse","store","middleware","getDefaultMiddleware","concat"],"sources":["C:/wamp64/www/gamereact11/src/store/store.ts"],"sourcesContent":["import {\n  combineReducers,\n  configureStore,\n  Middleware,\n  PreloadedState,\n} from '@reduxjs/toolkit';\nimport { modalReducer } from './modalSlice';\nimport { gameReducer } from './gameSlice';\n\nconst rootReducer = combineReducers({\n  modal: modalReducer,\n  game: gameReducer,\n});\n\nexport function setupStore(preloadedState?: PreloadedState<RootState>) {\n  return configureStore({\n    reducer: rootReducer,\n    preloadedState,\n  });\n}\n\n//MIDDLEWARE\nconst localStorageMiddleware: Middleware = ({ getState }) => {\n  return (next) => (action) => {\n    const result = next(action);\n    localStorage.setItem('connectFourGameSettigns', JSON.stringify(getState()));\n    return result;\n  };\n};\n\n// Rehydration function\n\nconst reHydrateStore = () => {\n  if (localStorage.getItem('connectFourGameSettigns') !== null) {\n    return JSON.parse(localStorage.getItem('connectFourGameSettigns')!); // re-hydrate the store\n  }\n};\n\nexport const store = configureStore({\n  reducer: rootReducer,\n  preloadedState: reHydrateStore(),\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(localStorageMiddleware),\n});\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof rootReducer>;\nexport type AppStore = ReturnType<typeof setupStore>;\n"],"mappings":"AAAA,OACEA,eAAe,CACfC,cAAc,KAGT,kBAAkB,CACzB,OAASC,YAAY,KAAQ,cAAc,CAC3C,OAASC,WAAW,KAAQ,aAAa,CAEzC,GAAMC,YAAW,CAAGJ,eAAe,CAAC,CAClCK,KAAK,CAAEH,YAAY,CACnBI,IAAI,CAAEH,WACR,CAAC,CAAC,CAEF,MAAO,SAASI,WAAU,CAACC,cAA0C,CAAE,CACrE,MAAOP,eAAc,CAAC,CACpBQ,OAAO,CAAEL,WAAW,CACpBI,cAAc,CAAdA,cACF,CAAC,CAAC,CACJ,CAEA;AACA,GAAME,uBAAkC,CAAG,QAArCA,uBAAkC,MAAqB,IAAfC,SAAQ,MAARA,QAAQ,CACpD,MAAO,UAACC,IAAI,QAAK,UAACC,MAAM,CAAK,CAC3B,GAAMC,OAAM,CAAGF,IAAI,CAACC,MAAM,CAAC,CAC3BE,YAAY,CAACC,OAAO,CAAC,yBAAyB,CAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,EAAE,CAAC,CAAC,CAC3E,MAAOG,OAAM,CACf,CAAC,GACH,CAAC,CAED;AAEA,GAAMK,eAAc,CAAG,QAAjBA,eAAc,EAAS,CAC3B,GAAIJ,YAAY,CAACK,OAAO,CAAC,yBAAyB,CAAC,GAAK,IAAI,CAAE,CAC5D,MAAOH,KAAI,CAACI,KAAK,CAACN,YAAY,CAACK,OAAO,CAAC,yBAAyB,CAAC,CAAE,CAAE;AACvE,CACF,CAAC,CAED,MAAO,IAAME,MAAK,CAAGrB,cAAc,CAAC,CAClCQ,OAAO,CAAEL,WAAW,CACpBI,cAAc,CAAEW,cAAc,EAAE,CAChCI,UAAU,CAAE,oBAACC,oBAAoB,QAC/BA,qBAAoB,EAAE,CAACC,MAAM,CAACf,sBAAsB,CAAC,EACzD,CAAC,CAAC"},"metadata":{},"sourceType":"module"}