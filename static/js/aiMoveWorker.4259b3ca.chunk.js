!function(){"use strict";function r(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function n(n,t){if(n){if("string"===typeof n)return r(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(n,t):void 0}}function t(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,a,o=[],u=!0,i=!1;try{for(t=t.call(r);!(u=(e=t.next()).done)&&(o.push(e.value),!n||o.length!==n);u=!0);}catch(f){i=!0,a=f}finally{try{u||null==t.return||t.return()}finally{if(i)throw a}}return o}}(r,t)||n(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function a(r,n){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},a(r,n)}function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(r){return!1}}function u(r,n,t){return u=o()?Reflect.construct.bind():function(r,n,t){var e=[null];e.push.apply(e,n);var o=new(Function.bind.apply(r,e));return t&&a(o,t.prototype),o},u.apply(null,arguments)}function i(t){return function(n){if(Array.isArray(n))return r(n)}(t)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=Symbol("Comlink.proxy"),c=Symbol("Comlink.endpoint"),l=Symbol("Comlink.releaseProxy"),s=Symbol("Comlink.thrown"),v=function(r){return"object"===typeof r&&null!==r||"function"===typeof r},p=new Map([["proxy",{canHandle:function(r){return v(r)&&r[f]},serialize:function(r){var n=new MessageChannel,t=n.port1,e=n.port2;return y(r,t),[e,[e]]},deserialize:function(r){return r.start(),h(r,[],n);var n}}],["throw",{canHandle:function(r){return v(r)&&s in r},serialize:function(r){var n=r.value;return[n instanceof Error?{isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:{isError:!1,value:n},[]]},deserialize:function(r){if(r.isError)throw Object.assign(new Error(r.value.message),r.value);throw r.value}}]]);function y(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;n.addEventListener("message",(function a(o){if(o&&o.data){var f,c=Object.assign({path:[]},o.data),l=c.id,v=c.type,p=c.path,m=(o.data.argumentList||[]).map(A);try{var h=p.slice(0,-1).reduce((function(r,n){return r[n]}),r),b=p.reduce((function(r,n){return r[n]}),r);switch(v){case"GET":f=b;break;case"SET":h[p.slice(-1)[0]]=A(o.data.value),f=!0;break;case"APPLY":f=b.apply(h,m);break;case"CONSTRUCT":var g;f=w(u(b,i(m)));break;case"ENDPOINT":var O=new MessageChannel,P=O.port1,j=O.port2;y(r,j),f=E(P,[P]);break;case"RELEASE":f=void 0;break;default:return}}catch(g){f=e({value:g},s,0)}Promise.resolve(f).catch((function(r){return e({value:r},s,0)})).then((function(r){var e=t(S(r),2),o=e[0],u=e[1];n.postMessage(Object.assign(Object.assign({},o),{id:l}),u),"RELEASE"===v&&(n.removeEventListener("message",a),d(n))}))}})),n.start&&n.start()}function d(r){(function(r){return"MessagePort"===r.constructor.name})(r)&&r.close()}function m(r){if(r)throw new Error("Proxy has been released and is not useable")}function h(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=!1,o=new Proxy(e,{get:function(t,e){if(m(a),e===l)return function(){return O(r,{type:"RELEASE",path:n.map((function(r){return r.toString()}))}).then((function(){d(r),a=!0}))};if("then"===e){if(0===n.length)return{then:function(){return o}};var u=O(r,{type:"GET",path:n.map((function(r){return r.toString()}))}).then(A);return u.then.bind(u)}return h(r,[].concat(i(n),[e]))},set:function(e,o,u){m(a);var f=t(S(u),2),c=f[0],l=f[1];return O(r,{type:"SET",path:[].concat(i(n),[o]).map((function(r){return r.toString()})),value:c},l).then(A)},apply:function(e,o,u){m(a);var i=n[n.length-1];if(i===c)return O(r,{type:"ENDPOINT"}).then(A);if("bind"===i)return h(r,n.slice(0,-1));var f=t(b(u),2),l=f[0],s=f[1];return O(r,{type:"APPLY",path:n.map((function(r){return r.toString()})),argumentList:l},s).then(A)},construct:function(e,o){m(a);var u=t(b(o),2),i=u[0],f=u[1];return O(r,{type:"CONSTRUCT",path:n.map((function(r){return r.toString()})),argumentList:i},f).then(A)}});return o}function b(r){var n,t=r.map(S);return[t.map((function(r){return r[0]})),(n=t.map((function(r){return r[1]})),Array.prototype.concat.apply([],n))]}var g=new WeakMap;function E(r,n){return g.set(r,n),r}function w(r){return Object.assign(r,e({},f,!0))}function S(r){var e,a=function(r,t){var e="undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=n(r))||t&&r&&"number"===typeof r.length){e&&(r=e);var a=0,o=function(){};return{s:o,n:function(){return a>=r.length?{done:!0}:{done:!1,value:r[a++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,f=!1;return{s:function(){e=e.call(r)},n:function(){var r=e.next();return i=r.done,r},e:function(r){f=!0,u=r},f:function(){try{i||null==e.return||e.return()}finally{if(f)throw u}}}}(p);try{for(a.s();!(e=a.n()).done;){var o=t(e.value,2),u=o[0],i=o[1];if(i.canHandle(r)){var f=t(i.serialize(r),2);return[{type:"HANDLER",name:u,value:f[0]},f[1]]}}}catch(c){a.e(c)}finally{a.f()}return[{type:"RAW",value:r},g.get(r)||[]]}function A(r){switch(r.type){case"HANDLER":return p.get(r.name).deserialize(r.value);case"RAW":return r.value}}function O(r,n,t){return new Promise((function(e){var a=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");r.addEventListener("message",(function n(t){t.data&&t.data.id&&t.data.id===a&&(r.removeEventListener("message",n),e(t.data))})),r.start&&r.start(),r.postMessage(Object.assign({id:a},n),t)}))}var P=function(r){var n=r.map((function(r){return i(r)}));return n},j=function(r){for(var n=0;n<7;n++)if(!r[0][n])return!1;return!0},R=function(r,n,t,e,a,o){for(var u=0,i=0,f=0;f<4;f++)"red"===a[r][n]?u++:"yellow"===a[r][n]&&i++,r+=t,n+=e;return 4===u?-o:4===i?o:i},L=function(r,n){for(var t=0,e=0,a=0,o=0,u=0;u<3;u++)for(var i=0;i<7;i++){var f=R(u,i,1,0,r,n);if(f===n)return n;if(f===-n)return-n;t+=f}for(var c=0;c<6;c++)for(var l=0;l<4;l++){var s=R(c,l,0,1,r,n);if(s===n)return n;if(s===-n)return-n;e+=s}for(var v=0;v<3;v++)for(var p=0;p<4;p++){var y=R(v,p,1,1,r,n);if(y===n)return n;if(y===-n)return-n;a+=y}for(var d=3;d<6;d++)for(var m=0;m<=3;m++){var h=R(d,m,-1,1,r,n);if(h===n)return n;if(h===-n)return-n;o+=h}return e+t+a+o},T=function(r,n){for(var t=0;t<5&&!r[t+1][n];)t++;return t};function k(r,n,t,e,a){var o=L(r,t);if(0===n||o===t||o===-t||j(r))return[null,o];for(var u=[null,-1/0],i=0;i<7;i++){var f=P(r),c=T(f,i);if(!f[c][i]){f[c][i]="yellow";var l=C(f,n-1,t,e,a);if((null===u[0]||l[1]>u[1])&&(u[0]=i,u[1]=l[1],e=l[1]),e>=a)return u}}return u}function C(r,n,t,e,a){var o=L(r,t);if(0===n||o===t||o===-t||j(r))return[null,o];for(var u=[null,1/0],i=0;i<7;i++){var f=P(r),c=T(f,i);if(!f[c][i]){f[c][i]="red";var l=k(f,n-1,t,e,a);if((null==u[0]||l[1]<u[1])&&(u[0]=i,u[1]=l[1],a=l[1]),e>=a)return u}}return u}y({maximizePlay:k})}();
//# sourceMappingURL=aiMoveWorker.4259b3ca.chunk.js.map